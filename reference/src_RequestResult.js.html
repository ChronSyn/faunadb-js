<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: src/RequestResult.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: src/RequestResult.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>'use strict';

/**
 * A structure containing the request and response context for a given FaunaDB request. Provided to an observer
 * registered in the {@link Client} constructor.
 *
 * @param {Client} client
 *   The FaunaDB client used to execute the request.
 * @param {'GET' | 'POST' | 'PUT' | 'PATCH' | 'DELETE' } method
 *   The HTTP method used in the request.
 * @param {string} path
 *   The path that was queried. Relative to the client's domain.
 * @param {string} query
 *   URL query parameters. Only set if `method` is "GET".
 * @param {Object} requestContent
 *   The request data.
 * @param {string} responseRaw
 *   The unparsed response data, as a string.
 * @param {object} responseContent
 *   The response data parsed as JSON.
 * @param {number} statusCode
 *   The HTTP response status code.
 * @param {object} responseHeaders
 *   The HTTP headers returned in the response.
 * @param {Date} startTime
 *   The time the request was issued by the client.
 * @param {Date} endTime
 *   The time the response was received by the client.
 * @constructor
 */
function RequestResult(client, method, path, query, requestContent, responseRaw, responseContent, statusCode, responseHeaders, startTime, endTime) {
  /** @type {Client} */
  this.client = client;

  /** @type {'GET' | 'POST' | 'PUT' | 'PATCH' | 'DELETE'} */
  this.method = method;

  /** @type {string} */
  this.path = path;

  /**
   * URL query. Null unless `method == 'get'`.
   * *Not* related to {@link Client.query}.
   * @type {object}
   */
  this.query = query;

  /** @type {object} */
  this.requestContent = requestContent;

  /** @type {string} */
  this.responseRaw = responseRaw;

  /**
   * Parsed value returned by the server.
   * Includes "resource" wrapper dict, or may be an "errors" dict instead.
   * @type {object}
   */
  this.responseContent = responseContent;

  /** @type {number} */
  this.statusCode = statusCode;

  /** @type {object} */
  this.responseHeaders = responseHeaders;

  /** @type {Date} */
  this.startTime = startTime;

  /** @type {Date} */
  this.endTime = endTime;
}

/**
 * Returns the auth object configured in the client.
 * @type {{user: string, pass: string}}
 */
Object.defineProperty(RequestResult.prototype, 'auth', { get: function() {
  return this.client._secret;
} });

/**
 * `this.endTime - this.startTime`: Time taken in milliseconds.
 * @type {number}
 */
Object.defineProperty(RequestResult.prototype, 'timeTaken', { get: function() {
  return this.endTime - this.startTime;
} });

module.exports = RequestResult;
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-clientLogger.html">clientLogger</a></li><li><a href="module-query.html">query</a></li></ul><h3>Externals</h3><ul><li><a href="external-Promise.html">Promise</a></li></ul><h3>Classes</h3><ul><li><a href="BadRequest.html">BadRequest</a></li><li><a href="Client.html">Client</a></li><li><a href="Expr.html">Expr</a></li><li><a href="FaunaError.html">FaunaError</a></li><li><a href="FaunaHTTPError.html">FaunaHTTPError</a></li><li><a href="InternalError.html">InternalError</a></li><li><a href="InvalidValue.html">InvalidValue</a></li><li><a href="MethodNotAllowed.html">MethodNotAllowed</a></li><li><a href="NotFound.html">NotFound</a></li><li><a href="PageHelper.html">PageHelper</a></li><li><a href="PermissionDenied.html">PermissionDenied</a></li><li><a href="RequestResult.html">RequestResult</a></li><li><a href="Unauthorized.html">Unauthorized</a></li><li><a href="UnavailableError.html">UnavailableError</a></li><li><a href="Value.html">Value</a></li><li><a href="Value.FaunaDate.html">FaunaDate</a></li><li><a href="Value.FaunaTime.html">FaunaTime</a></li><li><a href="Value.Ref.html">Ref</a></li><li><a href="Value.SetRef.html">SetRef</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.0</a> on Tue Jun 21 2016 14:39:32 GMT-0700 (PDT)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
